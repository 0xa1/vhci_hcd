--- linux-2.6.22.6_orig/fs/compat_ioctl.c	2007-08-31 08:21:01.000000000 +0200
+++ linux-2.6.22.6/fs/compat_ioctl.c	2007-11-16 11:19:22.000000000 +0100
@@ -101,6 +101,7 @@
 
 #include <linux/usb.h>
 #include <linux/usbdevice_fs.h>
+#include <linux/vhci-hcd.h>
 #include <linux/nbd.h>
 #include <linux/random.h>
 #include <linux/filter.h>
@@ -3117,6 +3118,12 @@
 COMPATIBLE_IOCTL(USBDEVFS_REAPURB32)
 COMPATIBLE_IOCTL(USBDEVFS_REAPURBNDELAY32)
 COMPATIBLE_IOCTL(USBDEVFS_CLEAR_HALT)
+/* USB Virtual Host Controller Interface */
+COMPATIBLE_IOCTL(VHCI_HCD_IOCREGISTER)
+COMPATIBLE_IOCTL(VHCI_HCD_IOCPORTSTAT)
+COMPATIBLE_IOCTL(VHCI_HCD_IOCFETCHWORK)
+COMPATIBLE_IOCTL(VHCI_HCD_IOCGIVEBACK32)
+COMPATIBLE_IOCTL(VHCI_HCD_IOCFETCHDATA32)
 /* MTD */
 COMPATIBLE_IOCTL(MEMGETINFO)
 COMPATIBLE_IOCTL(MEMERASE)
